(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[77222],{16891:function(e,t,o){"use strict";o.r(t),o.d(t,{InputError:function(){return oe},Mode:function(){return ae},default:function(){return ie},getEditorMode:function(){return re}});var a=o(92809),n=o(10219),r=o(67294),i=o(94184),l=o.n(i),s=o(44012),c=o(42233);var d=(0,o(50049).vU)({title:{id:"photoUploader.title.web-next",defaultMessage:"Add a photo"},titleMultiple:{id:"photoUploader.titleMultiple.web-next",defaultMessage:"Add photos"},description:{id:"photoUploader.description.web-next",defaultMessage:"Drag and drop photo or click the button below to select a photo you\u2019d like to upload."},descriptionMultiple:{id:"photoUploader.descriptionMultiple.web-next",defaultMessage:"Drag and drop photos or click the button below to select a photos you\u2019d like to upload."},pickImageBtn:{id:"photoUploader.pickImageBtn.web-next",defaultMessage:"Upload photo"},pickImageBtnMultiple:{id:"photoUploader.pickImageBtnMultiple.web-next",defaultMessage:"Upload photos"},canceBtn:{id:"photoUploader.canceBtn.web-next",defaultMessage:"Cancel"},uploadPhotoBtn:{id:"photoUploader.uploadPhotoBtn.web-next",defaultMessage:"Save photo"},editImageBtn:{id:"photoUploader.editImageBtn.web-next",defaultMessage:"Edit image"},zoomLabel:{id:"photoUploader.zoomLabel.web-next",defaultMessage:"Zoom image"},rotateLabel:{id:"photoUploader.rotateLabel.web-next",defaultMessage:"Rotate image"},photoUploadPreviewLabel:{id:"photoUploader.photoUploadPreviewLabel.web-next",defaultMessage:"image preview"},addImages:{id:"photoUploader.addImages.web-next",defaultMessage:"+ Add photos"},selectedFiles:{id:"photoUploader.selectedFiles.web-next",defaultMessage:"files selected"},saveImage:{id:"photoUploader.saveImage.web-next",defaultMessage:"Save changes"},cancelImage:{id:"photoUploader.cancelImage.web-next",defaultMessage:"Cancel changes"},bulkUploadBtn:{id:"photoUploader.bulkUploadBtn.web-next",defaultMessage:"Save photos"},filesLoadedMessage:{id:"photoUploader.filesLoadedMessage.web-next",defaultMessage:"files uploaded out of"},captionPlaceholder:{id:"photoUploader.captionPlaceholder.web-next",defaultMessage:"Caption",description:{text:""}},rejectedPhotoError:{id:"photoUploader.rejectedPhotoError.web-next",defaultMessage:"Photos must be less than 15mb in size",description:{text:""}},imageSizeError:{id:"photoUploader.imageSizeError.web-next",defaultMessage:"Your upload image is not the correct size. Please try again",description:{text:""}},imageResolutionError:{id:"photoUploader.imageResolutionError.web-nextV2",defaultMessage:"Image resolution must be less than 24 megapixels",description:{text:""}},formatError:{id:"photoUploader.formatError.web-next",defaultMessage:"Image can not be parsed. Please try another image",description:{text:""}}}),u=o(41389),p=o(28755),h=o(58638),g=o(86896),f=o(52336),m=o(85893);const b=["image"];function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function x(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach((function(t){(0,a.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var w=e=>{let{image:t}=e,o=(0,n.Z)(e,b);const a=(0,g.Z)(),{0:i,1:s}=(0,r.useState)("");return(0,r.useEffect)((()=>{if(t){(async()=>{"string"!==typeof t?t instanceof File&&s(await(0,h.Zk)(t,"image/png")):s(t)})()}}),[t,s]),i?(0,m.jsx)("img",x(x({src:i},o),{},{className:l()("w-full h-full object-contain",o.className),draggable:!1,alt:a.formatMessage(d.photoUploadPreviewLabel)})):(0,m.jsx)(f.Z,{className:"self-center"})};const j=({width:e,height:t,className:o})=>(0,m.jsx)("svg",{width:e,height:t,className:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5355 5.38561C14.0052 4.56765 12.2387 4.30561 10.5368 4.64412C8.835 4.98264 7.3032 5.90076 6.20242 7.24206C5.10165 8.58336 4.5 10.2648 4.5 12H5.5L3.75 14L2 12H3C3 9.91781 3.72198 7.90003 5.04291 6.29047C6.36384 4.68091 8.202 3.57916 10.2442 3.17295C12.2864 2.76673 14.4062 3.08118 16.2426 4.06273C16.6079 4.25798 16.7457 4.71241 16.5505 5.07771C16.3552 5.44302 15.9008 5.58087 15.5355 5.38561ZM20.1389 10L18.3889 12L19.3889 12C19.3889 13.7352 18.7873 15.4166 17.6865 16.7579C16.5857 18.0992 15.0539 19.0174 13.3521 19.3559C11.6503 19.6944 9.88372 19.4323 8.35344 18.6144C7.98813 18.4191 7.53371 18.557 7.33845 18.9223C7.14319 19.2876 7.28104 19.742 7.64634 19.9373C9.48267 20.9188 11.6025 21.2333 13.6447 20.8271C15.6869 20.4208 17.5251 19.3191 18.846 17.7095C20.1669 16.1 20.8889 14.0822 20.8889 12L21.8889 12L20.1389 10ZM15 9H9V15H15V9Z",fill:"black"})}),O=({width:e,height:t,className:o})=>(0,m.jsx)("svg",{width:e,height:t,className:o,viewBox:"0 0 48 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8731 14.3622L9.531 14.7624C6.39064 15.2989 4 18.0409 4 21.3333C4 25.0152 6.98477 28 10.6667 28H19.3334V32H10.6667C4.77563 32 0 27.2244 0 21.3333C0 16.059 3.82802 11.6788 8.85729 10.8195C11.01 4.52544 16.9765 0 24 0C31.0235 0 36.99 4.52544 39.1427 10.8195C44.172 11.6789 48 16.059 48 21.3333C48 27.2244 43.2244 32 37.3333 32H28.6667V28H37.3333C41.0152 28 44 25.0152 44 21.3333C44 18.0409 41.6094 15.299 38.469 14.7624L36.1269 14.3622L35.358 12.114C33.7417 7.38854 29.2614 4 24 4C18.7386 4 14.2583 7.38853 12.642 12.114L11.8731 14.3622ZM26 28V19.737L30.8907 22.9974C31.8098 23.6101 33.0515 23.3618 33.6642 22.4427C34.2769 21.5237 34.0286 20.2819 33.1095 19.6692L25.8491 14.829C24.7295 14.0825 23.2708 14.0825 22.1511 14.829L14.8907 19.6692C13.9717 20.2819 13.7233 21.5237 14.336 22.4427C14.9487 23.3618 16.1905 23.6101 17.1095 22.9974L22 19.7371V42.1144C22 43.219 22.8954 44.1144 24 44.1144C25.1046 44.1144 26 43.219 26 42.1144V32H26V28H26Z",fill:"#757575"})}),C=({width:e,height:t,className:o})=>(0,m.jsxs)("svg",{width:e,height:t,className:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 14.9393L20.5303 19.4697C20.8232 19.7626 20.8232 20.2374 20.5303 20.5303C20.2374 20.8232 19.7626 20.8232 19.4697 20.5303L14.9393 16L16 14.9393Z",fill:"black"}),(0,m.jsx)("path",{d:"M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z",fill:"white"}),(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 10.5C19 15.1944 15.1944 19 10.5 19C5.80558 19 2 15.1944 2 10.5C2 5.80558 5.80558 2 10.5 2C15.1944 2 19 5.80558 19 10.5ZM10.5 18C14.6421 18 18 14.6421 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18Z",fill:"white"}),(0,m.jsx)("path",{d:"M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z",fill:"white"}),(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 16.5C13.8137 16.5 16.5 13.8137 16.5 10.5C16.5 7.18629 13.8137 4.5 10.5 4.5C7.18629 4.5 4.5 7.18629 4.5 10.5C4.5 13.8137 7.18629 16.5 10.5 16.5ZM10.5 18C14.6421 18 18 14.6421 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18Z",fill:"black"}),(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 8.75C11.5 8.33579 11.1642 8 10.75 8C10.3358 8 10 8.33579 10 8.75V10L8.75 10C8.33579 10 8 10.3358 8 10.75C8 11.1642 8.33579 11.5 8.75 11.5H10V12.75C10 13.1642 10.3358 13.5 10.75 13.5C11.1642 13.5 11.5 13.1642 11.5 12.75V11.5H12.75C13.1642 11.5 13.5 11.1642 13.5 10.75C13.5 10.3358 13.1642 10 12.75 10L11.5 10V8.75Z",fill:"black"})]}),y=({width:e,height:t,className:o})=>(0,m.jsxs)("svg",{width:e,height:t,className:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 14.9393L20.5303 19.4697C20.8232 19.7626 20.8232 20.2374 20.5303 20.5303C20.2374 20.8232 19.7626 20.8232 19.4697 20.5303L14.9393 16L16 14.9393Z",fill:"black"}),(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 19C15.1944 19 19 15.1944 19 10.5C19 5.80558 15.1944 2 10.5 2C5.80558 2 2 5.80558 2 10.5C2 15.1944 5.80558 19 10.5 19Z",fill:"white"}),(0,m.jsx)("path",{d:"M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z",fill:"white"}),(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 16.5C13.8137 16.5 16.5 13.8137 16.5 10.5C16.5 7.18629 13.8137 4.5 10.5 4.5C7.18629 4.5 4.5 7.18629 4.5 10.5C4.5 13.8137 7.18629 16.5 10.5 16.5ZM10.5 18C14.6421 18 18 14.6421 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18Z",fill:"black"}),(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 10.75C13.5 11.1642 13.1642 11.5 12.75 11.5L8.75 11.5C8.33579 11.5 8 11.1642 8 10.75C8 10.3358 8.33579 10 8.75 10L12.75 10C13.1642 10 13.5 10.3358 13.5 10.75Z",fill:"black"})]}),E=({width:e="18",height:t="18",className:o})=>(0,m.jsx)("svg",{height:t,width:e,className:o,viewBox:"0 0 18 18",children:(0,m.jsx)("path",{d:"M9 16A7 7 0 119 2a7 7 0 010 14zM8 5.44v4.238a1 1 0 102 0V5.44a1 1 0 10-2 0zM9 12a1 1 0 100 2 1 1 0 000-2z"})});var P=o(20383);const N=["onFileInput","onHasDrag","hasFiles","multiple","title","description","btnLabel","previewFile","hasError","hideIcon","onRejected"];function M(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function I(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?M(Object(o),!0).forEach((function(t){(0,a.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):M(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var L=e=>{let{onFileInput:t,onHasDrag:o,hasFiles:a,multiple:i,title:h,description:g,btnLabel:f,previewFile:b,hasError:v,hideIcon:x,onRejected:j}=e,C=(0,n.Z)(e,N);const{0:y,1:M}=(0,r.useState)(!1),L=(0,r.useCallback)((e=>{null!==e&&void 0!==e&&e.length&&(t(e),M(!1))}),[t]),R=(0,r.useCallback)((()=>{y||M(!0)}),[y]),U=(0,r.useCallback)((()=>{M(!1)}),[]);(0,r.useEffect)((()=>{o(y)}),[y,o]);const{getRootProps:S,getInputProps:T}=(0,u.uI)({onDragOver:R,onDragLeave:U,onDrop:L,onDropRejected:j,accept:"image/*",maxSize:c.n0,multiple:i}),A=null!==h&&void 0!==h?h:(0,m.jsx)(s.Z,I({},i?d.titleMultiple:d.title)),D=null!==g&&void 0!==g?g:(0,m.jsx)(s.Z,I({},i?d.descriptionMultiple:d.description)),Z=null!==f&&void 0!==f?f:(0,m.jsx)(s.Z,I({},i?d.pickImageBtnMultiple:d.pickImageBtn));return(0,m.jsxs)("div",I(I(I({id:"photo-uploader-drop-area"},C),S()),{},{className:l()(C.className,"flex flex-col items-center justify-center space-y-6 overflow-hidden h-full w-full cursor-pointer",!a&&"pt-17 px-15"),children:[a&&b&&(0,m.jsx)(w,{image:b})||(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:l()(y&&"animate-pulse"),children:!v&&(0,m.jsx)(O,{height:"48",width:"44"})||!x&&(0,m.jsx)(E,{className:"fill-current text-alertRed",width:"56px",height:"56px"})}),A&&(0,m.jsx)("div",{className:"text-3xl font-bold text-center",children:A}),D&&(0,m.jsx)("div",{className:"text-base text-center px-2",children:D}),(0,m.jsx)(p.ZP,{id:"photo-uploader-upload",type:"button","data-testid":"photo-uploader-upload",className:"py-2 px-5 rounded-lg border border-gray4 text-sm text-gray6 font-medium","data-event-category":P.N.GTM_CATEGORY,"data-event-label":P.N.PICK_IMAGES,children:Z})]}),(0,m.jsx)("input",I({},T()))]}))},R=o(33275),U=o(77447),S=o.n(U),T=o(55027);const A=["image","ratio","onSave","onError","controls","areaClassName"];function D(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function Z(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?D(Object(o),!0).forEach((function(t){(0,a.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):D(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var k=e=>{let{image:t,ratio:o,onSave:a,onError:i,controls:s,areaClassName:u}=e,p=(0,n.Z)(e,A);const h=(0,g.Z)(),{0:f,1:b}=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{t&&("string"!==typeof t?t instanceof File&&b(await(0,c.Zk)(t,"image/png")):b(t))})()}),[t]);const{0:v,1:x}=(0,r.useState)({x:0,y:0}),{0:w,1:O}=(0,r.useState)(0),{0:E,1:P}=(0,r.useState)(1),{0:N,1:M}=(0,r.useState)(null),I=(0,r.useCallback)(((e,t)=>{M(t)}),[M]),L=(0,r.useCallback)((async()=>{try{if(!f||!N)return;const e=await(0,T.m4)(f,N,w);a(e)}catch(e){i&&i()}}),[N,w,f,a,i]);return(0,m.jsxs)("div",Z(Z({},p),{},{className:l()(p.className,"flex flex-col space-y-2 w-full h-full rounded"),children:[(0,m.jsx)("div",{className:l()("relative w-full h-full flex-grow rounded-lg",u),children:(0,m.jsx)(R.Z,{image:f||void 0,crop:v,rotation:w,zoom:E,maxZoom:5,aspect:o,onCropChange:x,onRotationChange:O,onCropComplete:I,onZoomChange:P,classes:{cropAreaClassName:"c5xn4hg",containerClassName:"h-full bg-gray1 border border-gray2 border-dashed rounded-lg"}})}),(0,m.jsxs)("div",{className:"flex flex-row space-x-8 flex-shrink",children:[(0,m.jsxs)("div",{className:l()("w-full flex flex-row space-x-4 items-center flex-grow h-full",S()["xPhotoUploader-editorControls"]),children:[(0,m.jsx)("div",{children:(0,m.jsx)(y,{width:"24",height:"24"})}),(0,m.jsx)("input",{id:"image-zoom","aria-label":h.formatMessage(d.rotateLabel),type:"range",min:"1",max:"5",step:.1,value:E,className:"w-full",onChange:e=>P(parseFloat(e.currentTarget.value))}),(0,m.jsx)("div",{children:(0,m.jsx)(C,{width:"24",height:"24"})})]}),(0,m.jsx)("button",{type:"button",id:"image-rotate","aria-label":h.formatMessage(d.rotateLabel),onClick:()=>{O((w-90)%360)},children:(0,m.jsx)(j,{width:"24",height:"24"})})]}),(0,m.jsx)("div",{className:"flex flex-row self-center w-full",children:s({onSuccess:L})})]}))};o(90214);const _=["onCancel","onSuccess","isLoading","isImageEdit","multiple","loadingMessage"];function F(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function G(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?F(Object(o),!0).forEach((function(t){(0,a.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):F(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var B=e=>{let{onCancel:t,onSuccess:o,isLoading:a,isImageEdit:r,multiple:i,loadingMessage:c}=e,u=(0,n.Z)(e,_);const h=r?d.saveImage:i&&d.bulkUploadBtn||d.uploadPhotoBtn,g=r?d.cancelImage:d.canceBtn;return(0,m.jsx)("div",G(G({},u),{},{className:l()(u.className,"flex flex-col md:flex-row md:space-x-4 space-y-2 md:space-y-0 w-full justify-center"),children:!a&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.ZP,{variant:p.c7.BORDERED,type:"button",className:"w-full md:w-auto",onClick:t,"data-event-category":P.N.GTM_CATEGORY,"data-event-label":r?P.N.CANCEL_EDIT:P.N.CANCEL_UPLOAD,children:(0,m.jsx)(s.Z,G({},g))}),(0,m.jsx)(p.ZP,{type:"button",className:"w-full md:w-auto",variant:p.c7.PRIMARY,onClick:o,"data-event-category":P.N.GTM_CATEGORY,"data-event-label":r?P.N.SAVE_EDIT:P.N.UPLOAD_IMAGES,children:(0,m.jsx)(s.Z,G({},h))})]})||(0,m.jsxs)("div",{className:"flex flex-row space-x-4 items-center justify-center",children:[(0,m.jsx)(f.Z,{className:"self-center",size:"lg"}),c]})}))},H=o(25675),z=o(59904);const V=["file","editedFile","onEdit","onRemove","onCaption","caption","showCaption"];function W(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function Y(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?W(Object(o),!0).forEach((function(t){(0,a.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):W(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var q=e=>{var t;let{file:o,editedFile:a,onEdit:r,onRemove:i,onCaption:s,caption:c,showCaption:u}=e,p=(0,n.Z)(e,V);const h=(0,T.CL)(null===(t=a||o)||void 0===t?void 0:t.size),f=(0,g.Z)();return(0,m.jsxs)("div",Y(Y({},p),{},{className:l()(p.className,"p-3 flex flex-col space-y-0.5 relative",S()["xPhotoUploader-gallery-item"]),children:[(0,m.jsx)(w,{id:"photo-uploader-gallery-item",onClick:()=>{r(o)},image:a||o,className:"rounded-lg max-h-24 h-24 object-cover cursor-pointer","data-event-category":P.N.GTM_CATEGORY,"data-event-label":P.N.EDIT_IMAGE}),(0,m.jsx)("div",{style:{minHeight:16},className:"text-xs overflow-x-hidden overflow-ellipsis whitespace-nowrap",title:"".concat(o.name," ").concat(h),children:o.name}),(0,m.jsx)("div",{className:"text-gray6 text-xs",children:h}),u&&(0,m.jsx)("input",{id:"".concat(o.name,"_caption"),className:"h-8 p-2 border rounded-md border-[#2e3e4859]",placeholder:f.formatMessage(d.captionPlaceholder),value:c,onChange:e=>{s(e.currentTarget.value,(0,T.w4)(o))}}),(0,m.jsx)("button",{id:"photo-uploader-gallery-remove-item",onClick:()=>{i(o)},className:"absolute text-white fill-current border-none right-0 top-0 rounded-full flex justify-around items-center",style:{width:18,height:18,margin:0,padding:0,minHeight:18,minWidth:18},"data-event-category":P.N.GTM_CATEGORY,"data-event-label":P.N.PICK_IMAGES,children:(0,m.jsx)(H.default,{className:"fill-current text-white stroke-current",src:"/images/design-system-icons/close.svg",loader:z.XI,width:18,height:18})}),(0,m.jsx)("button",{id:"photo-uploader-gallery-gallery-item-edit",className:l()("flex justify-around items-center w-5 h-5 border-gray-50 rounded-sm p-0 bg-white absolute cursor-pointer right-4 bottom-20",S()["xEdit-icon"]),onClick:()=>{r(o)},"data-event-category":P.N.GTM_CATEGORY,"data-event-label":P.N.EDIT_IMAGE,children:(0,m.jsx)(H.default,{className:"fill-current text-white stroke-current",src:"/images/design-system-icons/edit.svg",loader:z.XI,width:18,height:18})})]}))};const X=["files","onFileInput","onRemove","onCaption","onEdit","editedFiles","captions","showCaptions","onRejected"];function K(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function $(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?K(Object(o),!0).forEach((function(t){(0,a.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):K(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var J=e=>{let{files:t,onFileInput:o,onRemove:a,onCaption:r,onEdit:i,editedFiles:p,captions:h,showCaptions:g,onRejected:f}=e,b=(0,n.Z)(e,X);const{getRootProps:v,getInputProps:x,open:w}=(0,u.uI)({onDrop:o,onDropRejected:f,accept:"image/*",maxSize:c.n0,multiple:!0,noClick:!0});return(0,m.jsxs)("div",$($({},b),{},{className:l()("p-2 flex flex-col space-y-2",b.className),children:[(0,m.jsxs)("div",{className:"flex flex-row items-center justify-between px-3",children:[(0,m.jsxs)("div",{children:["".concat(null===t||void 0===t?void 0:t.length," "),(0,m.jsx)(s.Z,$({},d.selectedFiles))]}),(0,m.jsx)("button",{id:"photo-uploader-gallery-add-more",type:"button",onClick:w,className:"m-0","data-event-category":P.N.GTM_CATEGORY,"data-event-label":P.N.PICK_IMAGES,children:(0,m.jsx)(s.Z,$({},d.addImages))})]}),(0,m.jsxs)("div",$($({},v()),{},{className:l()("grid grid-cols-5 auto-rows-mins overflow-y-auto",S()["xPhotoUploader-gallery"]),children:[null===t||void 0===t?void 0:t.map((e=>(0,m.jsx)(q,{file:e,editedFile:null===p||void 0===p?void 0:p.get((0,T.w4)(e)),onEdit:i,onRemove:a,onCaption:r,caption:null===h||void 0===h?void 0:h.get((0,T.w4)(e)),showCaption:g},"".concat(null===e||void 0===e?void 0:e.name,"_").concat(e.size)))),(0,m.jsx)("input",$({className:"p-2 h-9"},x()))]}))]}))};const Q=["title","description","btnLabel","hasEditBtn","hasPreview","mode","ratio","onSave","onError","onCancel","onSelect","initialFiles","error","isLoading","filesLoaded","areaClassName","showCaptions","hideIcon","minWidth","maxWidth","minHeight","maxHeight"];function ee(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function te(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(o),!0).forEach((function(t){(0,a.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ee(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}let oe,ae;var ne;!function(e){e.SIZE="size",e.FORMAT="format",e.IMAGE_SIZE="image-size",e.IMAGE_RESOLUTION="image-resolution"}(oe||(oe={})),function(e){e.SINGLE="single",e.MULTIPLE="multiple"}(ae||(ae={})),function(e){e.UPLOAD="upload",e.GALLERY="gallery",e.EDIT="edits",e.PREVIEW="preview"}(ne||(ne={}));const re=(e,t,o)=>o?ne.EDIT:t?e===ae.MULTIPLE?ne.GALLERY:ne.PREVIEW:ne.UPLOAD;var ie=e=>{let{title:t,description:o,btnLabel:a,hasEditBtn:i,hasPreview:u,mode:h=ae.SINGLE,ratio:g,onSave:f,onError:b,onCancel:v,onSelect:x,initialFiles:w=[],error:j,isLoading:O,filesLoaded:C,areaClassName:y="ascj61g",showCaptions:E,hideIcon:N,minWidth:M=1,maxWidth:I,minHeight:R=1,maxHeight:U}=e,S=(0,n.Z)(e,Q);const A=h===ae.MULTIPLE,{0:D,1:Z}=(0,r.useState)(w),{0:_,1:F}=(0,r.useState)(!(null===D||void 0===D||!D.length)&&!u&&!A),{0:G,1:H}=(0,r.useState)(new Map),{0:z,1:V}=(0,r.useState)(new Map),{0:W,1:Y}=(0,r.useState)(null===D||void 0===D?void 0:D[0]),{0:q,1:X}=(0,r.useState)(!1),{0:K,1:$}=(0,r.useState)(),ee=!!j||!!K,ie=!(null===D||void 0===D||!D.length),le=re(h,ie,_),se=void 0!==C&&(0,m.jsxs)("div",{children:[C," ",(0,m.jsx)(s.Z,te({},d.filesLoadedMessage))," ",D.length]})||void 0,ce=(0,r.useCallback)((e=>{$(void 0);const t=e||(null===D||void 0===D?void 0:D[0])||void 0;Y(t),F(!0)}),[D]),de=(0,r.useCallback)((async e=>{$(void 0);let t=e;if(M||I||R||U){const e=await(0,T.O3)(t,{minWidth:M,maxWidth:I,minHeight:R,maxHeight:U});if(e.some((e=>e!==T.ff.NONE))&&(e.some((e=>e===T.ff.CONSTRAINT))&&$(oe.IMAGE_SIZE),e.some((e=>e===T.ff.MAX_RESOLUTION))&&$(oe.IMAGE_RESOLUTION),e.some((e=>e===T.ff.FORMAT))&&$(oe.FORMAT),t=t.reduce(((t,o,a)=>(e[a]===T.ff.NONE&&t.push(o),t)),[]),"single"===h))return}var o;h!==ae.SINGLE||u||(Y(null===(o=t)||void 0===o?void 0:o[0]),F(!0));h===ae.MULTIPLE&&(t=(0,T.Zj)([...D,...t])),Z(t),x&&x(t)}),[h,D,u,x,M,I,R,U]),ue=(0,r.useCallback)(((e,t)=>{z.set(t,e),V(z)}),[z]),pe=(0,r.useCallback)((()=>{F(!1),Z([]),v&&v()}),[Z,v]),he=(0,r.useCallback)((async()=>{const e=(0,T.d6)(D,G,z),t=await Promise.all(e.map((async e=>{const t=await(0,T.$E)(e.file);return te(te({},e),{},{file:t})})));f(t)}),[D,f,G,z]),ge=(0,r.useCallback)((async e=>{if(W){const t=await(0,c.qz)(e,W.name);G.set((0,T.w4)(W),t),H(G),h===ae.SINGLE&&f((0,T.d6)(D,G,z)),h===ae.MULTIPLE&&F(!1)}}),[D,f,h,W,z,G]),fe=(0,r.useCallback)((e=>{Z(null===D||void 0===D?void 0:D.filter((t=>t!==e))),G.delete((0,T.w4)(e)),H(G)}),[D,G]),me=(0,r.useCallback)((()=>{F(!1)}),[]),be=(0,r.useCallback)((e=>{(null===e||void 0===e?void 0:e.length)>0&&$(oe.SIZE)}),[]);let ve=d.rejectedPhotoError;return K===oe.IMAGE_SIZE&&(ve=d.imageSizeError),K===oe.IMAGE_RESOLUTION&&(ve=d.imageResolutionError),K===oe.FORMAT&&(ve=d.formatError),(0,m.jsxs)("div",te(te({},S),{},{className:l()(S.className,"flex flex-col space-y-6 items-center justify-center"),children:[le===ne.EDIT&&(0,m.jsx)(k,{areaClassName:y,image:W,ratio:g,onSave:ge,onError:b,controls:({onSuccess:e})=>(0,m.jsx)(B,{isImageEdit:A,onCancel:A?me:pe,onSuccess:e,isLoading:O,loadingMessage:se})})||(0,m.jsxs)("div",{className:l()("relative overflow-hidden h-full w-full bg-gray1 border border-gray2 border-dashed rounded-lg",q&&"xs:border-confirmGreen",ee&&"xs:border-alertRed"),children:[ie&&i&&le===ne.PREVIEW&&(0,m.jsx)(p.ZP,{id:"photo-uploader-edit",type:"button",onClick:()=>ce(),className:"absolute top-4 right-4",variant:p.c7.PRIMARY,"data-event-category":P.N.GTM_CATEGORY,"data-event-label":P.N.EDIT_IMAGE,children:(0,m.jsx)(s.Z,te({},d.editImageBtn))}),[ne.UPLOAD,ne.PREVIEW].includes(le)&&(0,m.jsx)(L,{onFileInput:de,onHasDrag:X,hasFiles:ie,previewFile:!A&&(null===D||void 0===D?void 0:D[0])||void 0,multiple:A,title:t,description:o,hideIcon:N,btnLabel:a,hasError:ee,className:y,onRejected:be}),le===ne.GALLERY&&(0,m.jsx)(J,{onFileInput:de,files:D,editedFiles:G,onEdit:ce,onRemove:fe,className:y,showCaptions:E,onCaption:ue,captions:z,onRejected:be})]}),ie&&le!==ne.EDIT&&(0,m.jsx)(B,{multiple:A,onCancel:pe,onSuccess:he,isLoading:O,loadingMessage:se}),ee&&(0,m.jsxs)(m.Fragment,{children:[j&&(0,m.jsx)("div",{className:l()("text-alertRed  self-start","d13ue9od"),children:j}),K&&(0,m.jsx)("div",{className:"text-alertRed self-start xPhotoUploader-error",children:(0,m.jsx)(s.Z,te({},ve))})]})]}))};o(67066)},42233:function(e,t,o){"use strict";o.d(t,{UP:function(){return r},e$:function(){return i},n0:function(){return l},ic:function(){return s},Bi:function(){return d},vL:function(){return u},WO:function(){return p},ix:function(){return h},Zk:function(){return f},qz:function(){return m},Uu:function(){return b}});var a=o(44367);let n;!function(e){e.Png="PNG",e.Jpeg="JPEG",e.Gif="GIF"}(n||(n={}));const r="image/jpeg",i=.85,l=15e6,s=24e6,c={[a.Orientation.BOTTOM_LEFT]:180,[a.Orientation.RIGHT_TOP]:90,[a.Orientation.LEFT_BOTTOM]:-90},d=e=>new Promise(((t,o)=>{const a=e instanceof File?URL.createObjectURL(e):e,n=new Image;n.addEventListener("load",(()=>t(n))),n.addEventListener("error",o),n.src=a})),u=()=>document.createElement("canvas"),p=(e,t=r,o=i)=>{let a=o,n=e.toDataURL(t,a);for(;n.length>l;){if(a-=.1,a<0){n=e.toDataURL(t,.01);break}n=e.toDataURL(t,a)}return n},h=e=>{let t=-4;const o={r:0,g:0,b:0};let a=0;const{length:n}=e.data;for(;(t+=20)<n;)a+=1,o.r+=e.data[t],o.g+=e.data[t+1],o.b+=e.data[t+2];return o.r=~~(o.r/a),o.g=~~(o.g/a),o.b=~~(o.b/a),(o.r<<16)+(o.g<<8)+o.b},g=async(e,t=0,o)=>{const a=await d(e),n=u(),l=n.getContext("2d");return 90===t||-90===t||270===t||-270===t?(n.width=a.height,n.height=a.width):(n.width=a.width,n.height=a.height),l.translate(n.width/2,n.height/2),l.rotate(t*Math.PI/180),l.drawImage(a,-a.width/2,-a.height/2),((e,t=r,o=i)=>new Promise((a=>{e.toBlob((e=>{a(URL.createObjectURL(e))}),t,o)})))(n,o)},f=(e,t)=>new Promise((o=>{const n=new FileReader;n.addEventListener("load",(async()=>{let r=n.result;const i=await(0,a.getOrientation)(e),l=c[i];l&&(r=await g(r,l,t)),o(r)}),!1),n.readAsDataURL(e)})),m=async(e,t="image.jpg")=>new Promise((o=>{const a=new XMLHttpRequest;a.responseType="blob",a.onload=()=>{var e,n;o(new File([a.response],((e,t="")=>{const[,o]=(null===t||void 0===t?void 0:t.match(/image\/(\w+)/))||[];return o?e.replace(/\.\w+$/,".".concat(o)):e})(t,null===a||void 0===a||null===(e=a.response)||void 0===e?void 0:e.type),{type:null===a||void 0===a||null===(n=a.response)||void 0===n?void 0:n.type}))},a.open("GET",e),a.send()})),b=async(e,t,o=i)=>{const a=await d(e),n=u();n.width=a.width,n.height=a.height;const r=n.getContext("2d");return r.fillStyle="#FFF",r.fillRect(0,0,n.width,n.height),r.drawImage(a,0,0),p(n,t,o)}},20383:function(e,t,o){"use strict";o.d(t,{N:function(){return n},v:function(){return r}});var a=o(37584);let n;!function(e){e.GTM_CATEGORY="PhotoUploader-next",e.CANCEL_UPLOAD="cancel-uploader",e.CANCEL_EDIT="cancel-edit",e.SAVE_EDIT="save-edit",e.UPLOAD_IMAGES="upload-images",e.PICK_IMAGES="pick-images",e.REMOVE_IMAGE="remove-image",e.EDIT_IMAGE="edit-image"}(n||(n={}));const r=(e,t)=>{(0,a.ZP)({event:"gaEvent",eventCategory:n.GTM_CATEGORY,eventLabel:t,eventAction:e})}},55027:function(e,t,o){"use strict";o.d(t,{m4:function(){return n},JN:function(){return i},px:function(){return l},w4:function(){return s},Zj:function(){return c},CL:function(){return u},$E:function(){return p},d6:function(){return h},ff:function(){return g},O3:function(){return f}});var a=o(42233);const n=async(e,t,o=0)=>{const n=await(0,a.Bi)(e),r=(0,a.vL)(),i=r.getContext("2d"),l=Math.max(n.width,n.height)/2*Math.sqrt(2)*2;r.width=l,r.height=l,i.fillStyle="#FFF",i.fillRect(0,0,l,l),i.translate(l/2,l/2),i.rotate(o*Math.PI/180),i.translate(-l/2,-l/2),i.drawImage(n,l/2-.5*n.width,l/2-.5*n.height);const s=i.getImageData(0,0,l,l);if(r.width=t.width,r.height=t.height,0===(0,a.ix)(s))return e;i.putImageData(s,Math.round(0-l/2+.5*n.width-t.x),Math.round(0-l/2+.5*n.height-t.y));let c=a.e$,d=(0,a.WO)(r,a.UP,c);for(;d.length>a.n0;){if(c-=.1,c<0){d=(0,a.WO)(r,a.UP,.01);break}d=(0,a.WO)(r,a.UP,c)}return d},r="https://secure.meetupstatic.com",i=e=>"".concat(r).concat(e).replace("highres","member"),l=e=>"".concat(r).concat(e).replace("highres","clean"),s=e=>"".concat(e.name,"_").concat(e.type,"_").concat(e.size),c=e=>{const t=new Map;return e.forEach((e=>{t.set(s(e),e)})),Array.from(t.values())},d=1e6,u=(e=0)=>e>d?"".concat((e/d).toFixed(1)," mb"):"".concat(Math.round(e/1e3)," kb"),p=async e=>{let t=e;if(!t.type.includes("jpeg")){let e=await(0,a.Zk)(t,"image/png");e=await(0,a.Uu)(e,"image/jpeg"),t=await(0,a.qz)(e,t.name)}return t},h=(e,t,o)=>e.map((e=>{const a=s(e);return{file:(null===t||void 0===t?void 0:t.get(a))||e,caption:o.get(a)||""}}));let g;!function(e){e[e.NONE=0]="NONE",e[e.CONSTRAINT=1]="CONSTRAINT",e[e.FORMAT=2]="FORMAT",e[e.MAX_RESOLUTION=3]="MAX_RESOLUTION"}(g||(g={}));const f=async(e,t)=>Promise.all(e.map((async e=>{try{const o=await(0,a.Bi)(e);return 0===(null===o||void 0===o?void 0:o.width)||0===(null===o||void 0===o?void 0:o.height)?g.FORMAT:(null===t||void 0===t?void 0:t.minWidth)>o.width||(null===t||void 0===t?void 0:t.maxWidth)<o.width||(null===t||void 0===t?void 0:t.minHeight)>o.height||(null===t||void 0===t?void 0:t.maxHeight)<o.height?g.CONSTRAINT:o.width*o.height>a.ic?g.MAX_RESOLUTION:g.NONE}catch(o){return g.FORMAT}})))},55448:function(e,t,o){"use strict";o.d(t,{V:function(){return g}});var a=o(92809),n=o(10219),r=o(67294),i=o(94184),l=o.n(i),s=o(25675),c=o(59904),d=o(85893);const u=["variant","showLengthIndicator","wrapperClassName","showRequiredLabel","lengthIndicatorClassName","icon","iconClassName"];function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function h(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){(0,a.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}let g;!function(e){e.DEFAULT="DEFAULT",e.ALERT="ALERT"}(g||(g={}));const f=(0,r.forwardRef)(((e,t)=>{let{variant:o,showLengthIndicator:a,wrapperClassName:r,showRequiredLabel:i,lengthIndicatorClassName:p,icon:f,iconClassName:m}=e,b=(0,n.Z)(e,u);const v=a&&b.maxLength,x=l()("w-full py-2 px-3 text-base rounded border outline-none hover:border-gray6 focus:border-viridian",{"pr-7":v,"pl-9":f},o===g.ALERT?"border-alertRed":"border-gray5",b.className);return(0,d.jsxs)("div",{className:l()("relative",r),children:[f&&(0,d.jsx)("div",{className:l()("absolute h-full left-3","dwivyyo",m),children:(0,d.jsx)(s.default,h(h({},f),{},{loader:c.XI}))}),(null===b||void 0===b?void 0:b.label)&&(0,d.jsx)("label",{className:"font-medium text-primary",htmlFor:b.id,children:"".concat(b.label).concat(null!==b&&void 0!==b&&b.required&&i?" *":"")}),(0,d.jsx)("input",h(h({ref:t,type:"text"},b),{},{className:x})),v&&(0,d.jsx)("span",{className:l()("absolute text-sm top-3 right-2 text-gray6",p),children:b.maxLength-"".concat(b.value||"").length})]})}));f.displayName="TextInput",t.Z=f,o(1390)},90214:function(e){e.exports={c5xn4hg:"c5xn4hg"}},67066:function(e){e.exports={ascj61g:"ascj61g",d13ue9od:"d13ue9od"}},1390:function(e){e.exports={dwivyyo:"dwivyyo"}},77447:function(e){e.exports={"xPhotoUploader-editorControls":"PhotoUploader_xPhotoUploader-editorControls__1fbyt","xPhotoUploader-gallery":"PhotoUploader_xPhotoUploader-gallery__30uAn","xPhotoUploader-gallery-item":"PhotoUploader_xPhotoUploader-gallery-item__1bHK5","xEdit-icon":"PhotoUploader_xEdit-icon__1i7dP"}}}]);